<html>
	<head>
		<title>MovieMela</title>
		<link rel="stylesheet" href="Style.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">	

		<!--Ajax Code for Discription from omdbapi on click of Movie name in card -->
		<script type="text/javascript">
			function getReview(mname){
				var xmlh = new XMLHttpRequest();
				xmlh.onreadystatechange = function(){ 
					if(this.readyState == 4 && this.status == 200)
					{
							var movie = JSON.parse(xmlh.responseText);
							//alert(movie.Plot);
							document.getElementById("movietitle").innerHTML = movie.Title;
							document.getElementById("year").innerHTML = movie.Year;
							document.getElementById("mrate").innerHTML = movie.Rated;
							var t = movie.Runtime;
							t = t.replace(" min","");
							var time = parseInt(t);
							var hours = Math.floor(time/60);
							var minutes = time%60;						
							document.getElementById("mtime").innerHTML = hours+"hr "+minutes+" min";
							document.getElementById("mgenre").innerHTML = movie.Genre;
							document.getElementById("mrelease").innerHTML = movie.Released;
							document.getElementById("movie_poster").src = movie.Poster;
							document.getElementById("movie_plot").innerHTML = movie.Plot;
							document.getElementById("movie_director").innerHTML = movie.Director;
							document.getElementById("movie_writer").innerHTML = movie.Writer;
							document.getElementById("movie_actors").innerHTML = movie.Actors;	
							document.getElementById("movie_awards").innerHTML = movie.Awards;
							document.getElementById("movie_lang").innerHTML = movie.Language;	
							document.getElementById("movie_country").innerHTML = movie.Country;
							var i;
							var rate = "";
							for(i=0 ; i<movie.Ratings.length ; i++)
							{
								rate += "<li><img src='Imgs/"+movie.Ratings[i].Source+".jpg' style='width:20px;height:20px;'/><b style='padding-left:10px;'>"+ movie.Ratings[i].Source +"</b> : "+movie.Ratings[i].Value+"</li>"
							}
													
							document.getElementById("movie_ratings").innerHTML = "<ul>"+rate+"</ul>";
							
							document.getElementById("movie_metascore").innerHTML = movie.Metascore;
							document.getElementById("imdbrating").innerHTML = movie.imdbRating;
							document.getElementById("imdbvotes").innerHTML = movie.imdbVotes;
							
								
					}
				}
				xmlh.open("GET","http://www.omdbapi.com/?apikey=e0620bd4&t="+mname,true);
				xmlh.send();				
			}
		</script>
		
	</head>
	<body style="font-family:'Adobe Caslon Pro Bold';width:1334px;background-color:#1F2833">
		<!--Header navbar -->
		<div class="container-fluid fixed-top" id="topnav">
			<div class="row">
				<div class="col-lg-2">
					<nav class="navbar" style="width:200px;margin-left:20px;text-decoration:none">
						<a id="icon" href="index.html" style="text-decoration:none">MovieMela</a>
					</nav>
				</div>
				<div class="col-lg-8">
					 <div class="form-group">
						<input type="text" id="searchbar" class="form-control" placeholder="Search">
						<span id="downarrow"><i class="fa fa-caret-down"></i></span>
					 </div>
				</div>
				<div class="col-lg-2" data-toggle="collapse" data-target="#myNavbar">
					<span id="menu" onclick="openLoginForm()"><i class="fa fa-bars"></i></span>
				</div>
				
				
				<!-- -->
				<div id="mySidenav" class="sidenav">
					<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
					<form action="#" method="post">
						<div class="imgcontainer" style="text-align:center;margin: 24px 0 12px 0;">
							<img src="Imgs/img_avatar.png" alt="Avatar" class="avatar" style="width: 40%;height:150px;border-radius: 50%;">
						</div>

						<div class="container" id="loginForm" style="padding: 16px;">
							<div class="row">
								<label for="uname" style="color:#ffffff;margin-left:30px"><b>Username</b></label>
								<br>
								<input type="text" id="uname" placeholder="Enter Username" name="uname">
							</div>
							
							<div class="row">
								<label for="psw" style="color:#ffffff;margin-left:30px"><b>Password</b></label>
								<br>
								<input type="password" id="pswd" placeholder="Enter Password" name="psw">
								<br>
								<span class="psw" >Forgot Password</span>
							</div>
							
							<div class="row">
								<button type="submit" style="margin-top:20px;">Login</button>
							</div>
							
							<div class="row" style="font-size:19px;font-weight:bold;margin-left:50px;margin-top:10px;color:#ffffff">
								<span > Not a member? <span style="color:blue;text-decoration:underline;cursor:pointer;"> Sign Up</span></span>
							</div>
						</div>
					</form>
					
				</div>
				<script type="text/javascript">
					function openLoginForm() {
						document.getElementById("mySidenav").style.width = "380px";
					}
					function closeNav() {
						document.getElementById("mySidenav").style.width = "0";
					}
				</script>
					
				<!---->
			</div>
		</div>
		
		<!---Body of slider-->
		<div class="container-fluid" style="margin-top:110px;margin-left:5px; width:100%">
			<div id="demo" class="carousel slide" data-ride="carousel">
			<!-- Indicators -->
				<ul class="carousel-indicators">
					<li data-target="#demo" data-slide-to="0" class="active"></li>
					<li data-target="#demo" data-slide-to="1"></li>
					<li data-target="#demo" data-slide-to="2"></li>
				</ul>

				<!-- The slideshow -->
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img src="Imgs/bg1.jpg" alt="AquaMan" width="100%" height="400px">
					</div>
					<div class="carousel-item">
						<img src="Imgs/bg2.jpg" alt="Avengers" width="100%" height="400px">
					</div>
					<div class="carousel-item">
						<img src="Imgs/bg3.jpg" alt="Movie" width="100%" height="400px">
					</div>
				</div>

				<!-- Left and right controls -->
				<a class="carousel-control-prev" href="#demo" data-slide="prev">
					<span class="carousel-control-prev-icon"></span>
				</a>
				<a class="carousel-control-next" href="#demo" data-slide="next">
					<span class="carousel-control-next-icon"></span>
				</a>
			</div>		
		</div>
		
		<!--Under slider text -->
		<div class="container-fluid" style="margin-top:10px;margin-left:5px">
			<span id="mlist">Movie Lists</span>
			<span id="addmovie"><i class="fa fa-plus" data-target="#addmovieform" data-toggle="modal"></i></span>
		</div>	
	
		<!-- add icon modal -->
		<div class="container" id="MovieCard">
			<div class="modal fade" id="addmovieform" role="dialog">
				<div class="modal-dialog" >
				  <!-- Modal content-->
				  <div class="modal-content">
					<div class="modal-header">
					  <h4 class="modal-title">Add Movies</h4>
					 <button type="button" class="close" data-dismiss="modal">&times;</button>
				    </div>
					<div class="modal-body">
						<div class="form-group">
							<label for="Movie_Name">Movie Name</label>
							<input type="text" v-model="mname" class="form-control">
						</div>
						<div class="form-group">
							<label for="Movie_Poster">Movie Poster</label>
							<input type="text" v-model="mposter" class="form-control">
						</div>
						<button type="button" id="addSubmit" v-on:click="addMovie" class="btn btn-info" data-dismiss="modal">
							Add Movie
						</button>
					</div>
					<div class="modal-footer">
					  <button type="button" class="btn" data-dismiss="modal">Close</button>
					</div>
				  </div>
				</div>
			  </div>
			  
			<!--Card showing movies -->  
			<div class="row">
				<div class="col-lg-4"  style="margin:25px 0px;height:330px;max-height:330px;overflow:hidden" v-for="movie in mdetail">
					<div class="card" >
						<img class="card-img-top" v-bind:src="movie.mposter" alt="Card image" style="width:100%;height:250px">
						<div class="card-body">
							<center>
									<button type="button" class="btn" id="moviename" v-bind:value="movie.mname"  onclick="getReview(this.value)" data-toggle="modal" data-target="#moviedetails">{{movie.mname}}</button>
							</center>
						</div>
					</div>
				</div>
			</div>
			<!--Modal Button-->
				<div class="modal fade" id="moviedetails"  role="dialog">
					<div class="modal-dialog modal-xl" >
					  <!-- Modal content-->
					  <div class="modal-content">
						<div class="modal-header">
						  <div>
						  <label style="font-size:30px;color:#61615E;">
						  		<span class="modal-title" id="movietitle" style="color:#1F2833"></span> 
									(<span id="year" style="font-size:30px;"></span>)			
									<!--Movie Name-->
						   </label>
						   <br>
						   <div id="movie_details" style="font-weight:bold;font-family:Verdana;color:#61615E;">	
								<span id="mrate" style="padding:0px 5px;"></span> | 
								<span id="mtime" style="padding:0px 5px;"></span> | 
								<span id="mgenre" style="padding:0px 5px;"></span> | 
								<span id="mrelease" style="padding:0px 5px;"></span> | 
						  </div>
						  </div>
						</div>
						<div class="modal-body">
							<div class="container-fluid">
								<div class="row">
									<div class="col-lg-4">
										<div class="row">
											<img id="movie_poster" alt="Poster" style="width:100%;height:450px"/>
										</div>
										<div class="row">
											<div class="col-lg-8" style="padding:30px">
												<span style="font-weight:bolder;">IMDB Rating: </span>
												<span id="imdbrating"> 
												</span>/10
												<br>
												<span style="font-weight:bolder;">IMDB Votes: </span>
												<span id="imdbvotes"> 
												</span>
											</div>
											<div class="col-lg-4" style="padding:10px">
												<label style="font-size:20px;">
													<label style="margin-top:15px;">
														<span id="movie_metascore" style=""></span>
													</label>
													<br>
													Metascore
												</label>
											</div>
										</div>
									</div>
									<div class="col-lg-8" id="movie_review" style="font-size:20px;">
										<p id="movie_plot"></p>
										<span style="font-weight:bolder;">Director: </span><span id="movie_director"></span>
										<br/>
										<span style="font-weight:bolder;">Writer: </span><span id="movie_writer"></span>
										<br/>
										<span style="font-weight:bolder;">Actors: </span><span id="movie_actors"></span>
										<br/>
										<span style="font-weight:bolder;">Awards: </span><span id="movie_awards"></span>
										<br/>
										<span style="font-weight:bolder;">Languages: </span><span id="movie_lang"></span>
										<br/>
										<span style="font-weight:bolder;">Country: </span><span id="movie_country"></span>
										<br/>
										<span style="font-weight:bolder;">Ratings: </span>
										<span id="movie_ratings"></span>
									</div>
								</div>
							</div>
						</div>
						<div class="modal-footer">
						  <button type="button" class="btn" data-dismiss="modal">Close</button>
						</div>
					  </div>
					</div>
				  </div>
			
			<!--- Movie details Script-->
			<script type="text/javascript">
				var movies = new Vue({
					el:"#MovieCard",
					data:{
						mname:'',
						mposter:'',
						mdetail:[
							{
								mname:'Avengers: Endgame ',
								mposter:'https://images-na.ssl-images-amazon.com/images/I/91e9898R7QL._RI_.jpg'
							},
							{
								mname:'Hulk',
								mposter:'https://miro.medium.com/max/359/1*KKdoWtxXdzJ422642u3Rww.png'
							},
							{
								mname:'World War Z',
								mposter:'https://www.joblo.com/assets/images/oldsite/posters/images/full/world_war_z_ver2_xlg_thumb.jpg'
							},
							{
								mname:'Toy Story 4',
								mposter:'https://upload.wikimedia.org/wikipedia/en/4/4c/Toy_Story_4_poster.jpg'
							},
							{
								mname:'John Wick: Chapter 3',
								mposter:'https://m.media-amazon.com/images/M/MV5BMDg2YzI0ODctYjliMy00NTU0LTkxODYtYTNkNjQwMzVmOTcxXkEyXkFqcGdeQXVyNjg2NjQwMDQ@._V1_SX300.jpg'
							}
						]
					},
					methods:{
						addMovie(){
							this.mdetail.push({
								mname:this.mname,
								mposter:this.mposter
							});
							alert("Movie added Succesfully..");
							this.mname='';
							this.mposter='';
						}
					}
				}); 
			</script>			
			
		</div>
		
		<!-- Footer-->
		<div class="container-fluid" id="footer">
			<div class="row" style="margin-left:530px">
				<span id="social"> <i class="fa fa-facebook-square fa-lg"></i></span>
				<span id="social"> <i class="fa fa-twitter-square fa-lg"></i></span>
				<span id="social"> <i class="fa fa-youtube-play fa-lg"></i></span>
				<span id="social"> <i class="fa fa-instagram fa-lg"></i></span>
			</div>
			<div class="row" style="margin-left:470px;margin-top:20px;">
				<span id="ftext">Terms & Condition</span>
				<span id="ftext">Privacy Policy</span>
				<span id="ftext">Terms of Use</span>
			</div>
			<div class="row" style="margin-left:540px;font-size:15px;margin-top:20px;">
				<span id="ftext">&#169; 2005-2020 By MovieMela.com , Inc.</span>
			</div>
			
		</div>
		
	</body>
<html>










